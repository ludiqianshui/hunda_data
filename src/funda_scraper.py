import requests
from bs4 import BeautifulSoup

FUNDA_BASEURL = "https://www.funda.nl/en/koop/1181/p3/"

def funda_request(name):

    headers_cookie = {
        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',
        'accept-encoding': 'gzip, deflate, br',
        'cache-control': 'max-age=0',
        'cookie': 'optimizelyEndUserId=oeu1616190005847r0.09526265673807566; OptanonAlertBoxClosed=2021-03-19T21:40:07.823Z; ajs_anonymous_id="076e80db-975a-42c7-8cae-9f118a896fdd"; __gads=ID=e1bcc255703d2b21:T=1616190037:S=ALNI_MZb_R4D8xCjEAKOAvO-Sbu1CEbRHw; language-preference=en; ajs_user_id="bc9174daa792"; PubCommonId=ffa15e58-3e33-4e6e-a655-9802fde813bb; _lr_env_src_ats=false; f_auth=WcsWbmMibHppnZLPwWwqTOkYtWSG5BzVqqC6CFDjs_1lafz07SJe4ZwQwXFQrxWyNQ7yKv3DhhmcIkULKWGNcga9orTVjnyL7hyIdS1pDo23MWJCLYc6epvQwrDOU1JlwoaWiYo2p1KMr592YBxIx1_ue1-4BcIbzTuXpz69iNAZX8pKGf5QlJ7rZAuvBLYaKft9gGqNUtqmDHcXJLDsxxOki6H1cnZ0jU8l-qa642t2f4qoI2A2ZDRusrYZaiyBm5sZ__sH-o9ys-UP5VNyzs89RBbuqnQzlxY-AHom3qPG5RufKDqW8sKXaF0OreXV3KhYhhMVI6L9WITBmU4iW9p8c7Z-9F2RXhtzzrf3IDZWqKMM8vanywVq0wcuUKulCsM19nVasWBxToyeQETCWnk_3Oep47y_s6nrNq66hpRqDr9TVl5ZJsebvqUEoeD0tAM4Uol-Mz6-1UyI6rNXzE8J1EuHlxJHzy3hYNfzAeP1MF4ChbZjm0hjk3oApXZguG5B4xLEwx0-uAvxnMYjAuxKtYk4HH5-O32yWSEHuMFqUW8sLPoJvyIFmSZayPKxGs84y3M2BY_Cd-G6GEzPEjHcFPhowEVdp-CgzJgTmhlAhIrkOi-8vHoOzcvG38f6tq5dxzrg5e2cxCN767K9I_NW895ydQCD5kBc2bsp7KKyRYb_yK8x0GfeUaU4QISegnZ_k36oeaLVO6S3FE-w8069AsBp8jZgqAtPGWIR9FLNVMy0_AmglNg-11FFkJbDnNTiZBYyo47ykLry5bc9ufMe9auJfElQK2UKhp3v8L_8G5nl-wvMSAtjJOdTplZT21EOmeI8v-d6L3xu3XvSrBeMo0dS1QQvTSer5Cz8DtfPeT24qcesfeqx8xlKAH69uNFFoubhpwl6uOGrH2GuWa_cKYCAwdmv2SORM4yG0GRAsw29mTF9P-npbf0eNlfmR4X7KdQ53m63k2ppqfxJINb6UWKBJxkuxRaiyXNEuJHqT7CYGzsGSx_VTGmhk9oV2NnrRE8nBfstTRj_fsZqtWfkimc; SNLBCORS=74c27b417c1cde18e77321c7c384274f; SNLB=74c27b417c1cde18e77321c7c384274f; sr=1|true|koop; objectnotfound=objectnotfound=false; html-classes=js; bm_mi=ACF07140849F576D8C0A7BCB9D9C94A6~VFkmnhz/VPhjkfztwA7FIDRtKLAKb54TJhkI91yJ4rc4cJC+3NVJZxXlaAy53zwV/UwHYIWX/g6hI6KBwI58gBJ6gKdiLqsxRR9l8nAn2doZLS/D6kHnwk8XX/ygPbYPi9CRZjDOGopLvEe6wGfBIIdMPnXM1dPk1m7JST7WwtR3nXPyMgA6pABrvigCzV+wuCP1+6IJYxa8olf6yWTQ0lA2BJgarRwPCMydnMBXctl5u9IC2GGnx3qRpc95ztaSL+sgl3Q63Ph+FGeSzVUkW86pqWrRXm7nBsrn/A2CGBY=; eupubconsent-v2=CPDUwYhPDUwYhAcABBENBlCgAPLAAAAAAChQGgNF7S5dRGPCWG58ZtskOQQPoNSMJgQjABaJImgJwAKAMIQCgmASPATgBAACCAYAKAIBAANkGAAAAQAAQAAAAAGEQAAABAIIICIAgBIBCAAIAAQAAIAQAAAAgEAAAEAAkwAAAIIAQEAABAAAAeEgOgAIAAWABUADIAHAAPAAgABEADQAHgARAAmABPACqAFgAN4AjgBLgDDgGoAaoA_QCOAEpAMUAi8BMQC5AF5gMkCACAAHgAfABaAH8AZoBAwEegJWDAAwAFgHUAX0GgCgBcAGpAWgBaQEXgLkEAAQAFiIAYA1AEXgLkFANAAGgAPgAwADIAIgAWAAxgB8AH4ATAAuQBeAF-AMIAxABtADxAH8AggBCgCOAEmAKAAVAArQBZADKAGbANQA1YBxAHIAPMAjgBJoCWgJdATwBPQCkAFfgLQAtIBdwDAgGKgM4AzoBoADTgHCgP0A_YCBAEegJBATEAncBRACmwFmALkAXnAvkC-hgCsAB8AGAAZABEACwAGIAPwAmABegDCAMQAbYA_gEEAI4ASYAoABUACtAFkAMcAZUA1ADVgHEAcgA8wCOAEtgJ4AnoBSACvgF3AMVAZwBnQDQQGmAacA4QB-wECAI9ASCAmIBO4CiAFNgLMAXmOAKgAIAAeABcAD4ALQAcgA_ADQAH8AXwAzQCBgEIAIjAYABgQDXgI9ASsAmIBUwC-h0CkABYAFQAMgAcABAACIAGIANAAeAA-ACIAEwAJ4AVQAsABcAC-AGIAN4AjoBLgEwALEAYYAygBogDUAG-AP0AiwBHACUwFoAWkAuoBigDqAIvASCAqwBcgC8wGSEAH4AAQAEAALAAaAA8ADIAIgAWAAxAB_AEwATQAqgBcgC8AL8AYQBiADQAG0AN8AfwCBAEWAI4ASYAoABUACtgFiAWQAvgBlADNgGoAaoA3wBxADkAHmARwAlIBOACeAFIAKyAV-AtAC0gF3AMAAYoAzMBnAGdANBAaYBpwDhAHUgP0A_YCAAECAI9ASCAmIBO4CiAFNgLMAXJAvkC-iUBgABAACwAMgAcABEADEAHgARAAmABVAC4AF8AMQAbQBHADKAGqARyAtAC0gF1AMUAdQBF4C8yQAgAC4AOQBfADUANeAlYBewC-ikBwABYAFQAMgAcABAACIAGIANAAeABEACYAE8AKoAWAAvgBiAFiAMoAaIA1QB-gEWAI4ASkBF4C5AF5gMkKAEgALgAfABaADkAH4AbQBHAC-AGoANcAuoBgADFAGvAR6AmIBUwC-gAAA.flgAAAAAAAAA; _pbjs_userid_consent_data=1209358185633204; _lr_retry_request=true; pbjs-unifiedid={"TDID":"0e088381-ab7c-4806-bc19-48224aa87dec","TDID_LOOKUP":"TRUE","TDID_CREATED_AT":"2021-07-02T20:30:27"}; _gid=GA1.2.955295737.1627936225; id5id={"created_at":"2021-03-12T22:03:20Z","id5_consent":true,"original_uid":"ID5-ZHMOoRIwHE0gim1hidFuN_YULp-3abZRqAurA0drMQ!ID5*nNnAvGeDve-LsQeepxhcnfFnmd1ZJuRFlzmGWMXW5sIAAPuUqBAG_ox6uEEGEdRq","universal_uid":"ID5-ZHMOieaxixRBg3d8awdEb_NKY_hCrran5K9pwWPTRA!ID5*F5h1rcQ2iWlZkbuVMbs_piIjcoG1kpZU6jSXi4yz66YAAHN8JDwtcsaqc9raa6lG","signature":"ID5_AdWnaqRw8cvZuVFgmP711vVvwMNEsbbk2pYEr3Emu2xVVUR03-yRX3pRXZTgdNCESYCoi63RrO1MufjW5oIW0lU","link_type":2,"cascade_needed":true,"privacy":{"jurisdiction":"gdpr","id5_consent":true}}; panoramaId_expiry=1628541027672; _cc_id=36d6a986dead41cb612809267b8973cf; panoramaId=6138ba0aab2dd9e4566e08c7ed144945a7022c71c1a804e83b51ccecbdafe560; ak_bmsc=7A8E76D4D78F31BD011D5AC7834FBA44~000000000000000000000000000000~YAAQf8MTAngcO696AQAAEYOPCAxYKL2IcPVcIbkWo8BoLDCe5U5Yn3sfiDEI+dK0Amwliq2iAfmxmWHyORq2u3UFmhKASvVl0xXa+GLvXrLWXJhzjDsTczmtAK92FNDQAJ3mYxzKMSwkhGPNJ+cqRjlYDmfcPuxyCMtP+NHglshqkUmZcmkLS6t9bdwiRReIPbvbeAt4LLYLZbwBdr8i1V4wmSIelwSZuUzMceGwIaZJscnmZH138+4vW9ah9IIUME1bwIBjQKIWNg6S33PjsSI3HRFh46vV3c8WoCoBcZylANXx5cZmy0pl3s5qgAVQBhkcEazvZFTET+zAHITlxYcH23EVwd0jaQY16NMEp48YDQFKufzUKdCm7gV+1l1dwJRm+wl4huJGwqZ1yEfyu1YksNnchGQnzWj6ZGjvDzw9t2ygIk4zF9RD; fd-user-checked=true; sessionstarted=true; lzo_sort=koop=; lzo=koop=/koop/amsterdam/p2/; OptanonConsent=isIABGlobal=false&datestamp=Mon+Aug+02+2021+22:32:51+GMT+0200+(Central+European+Summer+Time)&version=6.16.0&consentId=0dd745f4-4927-4560-82af-864c02652bea&interactionCount=1&landingPath=NotLandingPage&groups=F01:1,F02:1,F03:1,BG30:1,F04:1,F05:1,BG29:0,STACK39:1,C0001:0,C0003:0,C0004:0&hosts=H5:1,H18:1,H21:1,H1:1,H37:1,H6:1,H38:1,H7:1,H35:1,H10:1,H34:1,H39:1,H9:1,H11:1,H2:1,H12:1,H15:1,H16:1,H17:1,H41:0,H42:0,H44:0,H45:0,H43:0,H40:0&geolocation=NL;NH&AwaitingReconsent=false; _ga_WLRNSHBY8J=GS1.1.1627936222.11.1.1627936370.0; _ga=GA1.1.677597536.1616190006; bm_sv=CA13987593D422FEFE80428E12815BAB~ap+Bo4I+e6zBN5o6EIY4o9xRRq2E7UZ7xtbF+Thc7tv8X4EW9NZu4iJ0/+abneErrEk3tNrVaiFRXesO42yR/vUtLaEDGP66jwJXr0EVcSGWwz71GYsQkCmxnxtw/mA/kiVG7wBfdcwc/IUVGWgPfw==; cto_bidid=CXSS2V9WTjlRWlBTWndncEZCZ2tCWXBjJTJCTU1MQTRlcVJmakxOWThuMXlvaEJmJTJCdCUyQjQyeGVlTHZmVGkwbTc3Wjg5c3M0VFB1Z3lTVXBjJTJCWmJyUVFlSVJ3aCUyRjh6Z1ZDOSUyRktNdTJEemNTWnRTNWZwRSUzRA; cto_bundle=Y9zA019pbDRPZ3M5MXludEpBbk55Q1NtR2V2eCUyRnhOZTJRRlZaUENiVEh0d3pKcU9KR2prS0VHY01LeThDaWFzek5PaGszTWNnQ1NJSFYlMkI5VkdRWU54RmVjWkpwQU03YkRUVWk1VVhNaVR1SlJwQzBuSVB1YlUxZDBEb2xaJTJGb04yUElWOHEzVVVJa2VITmtvUGhHNVV1SEp0eGclM0QlM0Q; _dd_s=logs=1&id=f37d94d8-d36b-4862-9b87-caaf260d56e6&created=1627936224337&expire=1627937831424'''''''

    }
    headers_nocookie = {
        'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.107 Safari/537.36',
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',
        'accept-encoding': 'gzip, deflate, br',
        'cache-control': 'max-age=0'
    }
    page = requests.get(FUNDA_BASEURL, headers=headers_nocookie)
    funda_html = open("funda.html", "a")
    funda_html.write(page.text)
    funda_html.close()

# Press the green button in the gutter to run the script.
if __name__ == '__main__':
    funda_request('begin')

# See PyCharm help at https://www.jetbrains.com/help/pycharm/
